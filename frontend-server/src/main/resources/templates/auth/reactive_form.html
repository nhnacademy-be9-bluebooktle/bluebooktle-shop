<!DOCTYPE html>
<html layout:decorate="~{_layouts/default_layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <title>휴면 계정 활성화</title>
    <style>
        /* 사용자님의 원래 스타일 유지 */
        .login-form-container-kitsch {
            max-width: 450px;
            margin: 3rem auto;
            padding: 2.5rem;
            background-color: var(--kitsch-bg-alt);
            border: 3px solid var(--kitsch-text-dark);
            border-radius: 10px;
            box-shadow: 5px 5px 0px var(--kitsch-color-4);
        }

        .login-form-container-kitsch .form-title-kitsch {
            font-family: var(--font-display), serif;
            font-size: 2.2rem;
            color: var(--kitsch-color-1);
            text-align: center;
            margin-bottom: 2rem;
        }

        .form-group-kitsch {
            margin-bottom: 1.5rem;
        }

        .form-group-kitsch .label-kitsch {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--kitsch-color-5);
            font-family: var(--font-handwriting), serif;
            font-size: 1.2em;
        }

        .login-options-kitsch {
            margin-top: 1.5rem;
            text-align: center;
            font-family: var(--font-pixel), serif;
        }

        .login-options-kitsch a {
            color: var(--kitsch-color-4);
            margin: 0 0.5em;
            font-size: 0.9rem;
        }

        .login-options-kitsch a:hover {
            color: var(--kitsch-color-3);
        }

    </style>
</head>

<body>
<div layout:fragment="content">
    <div class="container-kitsch">
        <div class="login-form-container-kitsch" style="max-width: 500px;">
            <h2 class="form-title-kitsch display-font-kitsch"><i class="fas fa-user-clock"></i> 휴면 계정 활성화 <i
                    class="fas fa-key"></i>
            </h2>

            <div class="alert-kitsch success-kitsch" style="margin-bottom: 1rem;"
                 th:if="${globalSuccessMessage != null && !globalSuccessMessage.isEmpty()}"><i
                    class="fas fa-check-circle"></i>
                <span class="pixel-font-kitsch" th:text="${globalSuccessMessage}"></span></div>

            <div class="alert-kitsch error-kitsch" style="margin-bottom: 1rem;"
                 th:if="${formErrorSource == 'issueCodeForm' and errorMessage != null && !errorMessage.isEmpty()}"><i
                    class="fas fa-exclamation-triangle"></i>
                <div>
                    <strong class="pixel-font-kitsch" th:text="${'오류 코드: ' + errorCode}"></strong><br/> <span
                        class="pixel-font-kitsch" th:text="${errorMessage}"></span></div>
            </div>

            <h2 class="display-font-kitsch"
                style="font-size:1.5rem; margin-top:1.5rem; margin-bottom:1rem; text-align:left; border:none;">1. 인증코드
                요청</h2>
            <form id="issueCodeForm" th:action="@{/auth/dormant/issue-code}" method="post">
                <div class="form-group-kitsch"><label class="label-kitsch handwriting-font-kitsch" for="loginIdIssue">아이디:</label>
                    <input class="input-kitsch pixel-font-kitsch" type="text" id="loginIdIssue" name="loginId"
                           placeholder="아이디를 입력하세요" required></div>
                <button class="btn-kitsch secondary-btn-kitsch color2-kitsch retro-shadow-kitsch" style="width: 100%;"
                        type="submit"><i class="fas fa-paper-plane"></i> 인증코드 요청
                </button>
            </form>

            <hr style="margin: 2rem 0; border-top: 2px dashed var(--kitsch-color-2);">
            <div class="alert-kitsch error-kitsch" style="margin-bottom: 1rem;"
                 th:if="${formErrorSource == 'reactivateForm' and errorMessage != null && !errorMessage.isEmpty()}"><i
                    class="fas fa-exclamation-triangle"></i>
                <div>
                    <strong class="pixel-font-kitsch" th:text="${'오류 코드: ' + errorCode}"></strong><br/> <span
                        class="pixel-font-kitsch" th:text="${errorMessage}"></span></div>
            </div>

            <h2 class="display-font-kitsch"
                style="font-size:1.5rem; margin-top:1.5rem; margin-bottom:1rem; text-align:left; border:none;">2. 계정
                활성화</h2>
            <form id="reactivateForm" th:action="@{/auth/reactivate-account}" method="post">
                <div class="form-group-kitsch"><label class="label-kitsch handwriting-font-kitsch"
                                                      for="loginIdReactivate">아이디:</label> <input
                        class="input-kitsch pixel-font-kitsch" type="text" id="loginIdReactivate" name="loginId"
                        placeholder="아이디를 다시 입력하세요" required></div>
                <div class="form-group-kitsch"><label class="label-kitsch handwriting-font-kitsch"
                                                      for="authCode">인증코드:</label> <input
                        class="input-kitsch pixel-font-kitsch" type="text" id="authCode" name="authCode"
                        placeholder="받으신 인증코드를 입력하세요" required>
                </div>
                <button class="btn-kitsch primary-btn-kitsch retro-shadow-kitsch" style="width: 100%;" type="submit"><i
                        class="fas fa-user-check"></i> 계정 활성화
                </button>
            </form>

            <div class="login-options-kitsch" style="margin-top: 2rem;"><a class="text-btn-kitsch pixel-font-kitsch"
                                                                           th:href="@{/login}"> <i
                    class="fas fa-arrow-left"></i> 로그인 페이지로 돌아가기
            </a>
            </div>
        </div>
    </div>
</div>

<th:block layout:fragment="page_scripts">
</th:block>

</body>
</html>